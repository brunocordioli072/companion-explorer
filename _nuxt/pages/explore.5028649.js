(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{918:function(t,e,r){var content=r(922);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(129).default)("7fd00f3a",content,!0,{sourceMap:!1})},920:function(t,e,r){"use strict";r.r(e);r(90);var n=r(28),o=(r(68),r(148),r(197),r(14).a.extend({props:{item:Object,search:Boolean},data:function(){return{source:"",sourceArtists:[""]}},computed:{selectedArtistsNames:{get:function(){return this.$store.getters["explore/selectedArtistsNames"]},set:function(t){this.$store.commit("explore/selectedArtistsNames",t)}},playerIsPlaying:{get:function(){return this.$store.getters["explore/playerIsPlaying"]},set:function(t){this.$store.commit("explore/playerIsPlaying",t)}},playerIsLoading:{get:function(){return this.$store.getters["explore/playerIsLoading"]},set:function(t){this.$store.commit("explore/playerIsLoading",t)}},playerSource:{get:function(){return this.$store.getters["explore/playerSource"]},set:function(t){this.$store.commit("explore/playerSource",t)}},searchedArtists:{get:function(){return this.$store.getters["explore/searchedArtists"]},set:function(t){this.$store.commit("explore/searchedArtists",t)}},selectedArtists:{get:function(){return this.$store.getters["explore/selectedArtists"]},set:function(t){this.$store.commit("explore/selectedArtists",t)}},canBePlayed:function(){return this.sourceArtists.includes(this.item.name)&&this.playerIsPlaying&&this.source==this.playerSource},hasArtistOnPlaylist:function(){return this.selectedArtistsNames.includes(this.item.name)}},watch:{playerIsLoading:function(){console.log(this.playerIsLoading)}},methods:{playTopTrackByArtist:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.playerIsPlaying=!1,r.prev=1,r.next=4,e.$spotify.api.getArtistTopTracks(t.id,"GB");case 4:n=r.sent,o=n.body.tracks,e.sourceArtists=o[0].artists.map((function(a){return a.name})),e.source=o[0].preview_url||"",e.$store.commit("explore/playerSource",o[0].preview_url),e.playerIsPlaying=!0,r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),e.$notification.info({message:"Error fetching artists tracks",description:"Some error has occured, please try again or refresh the page..."});case 15:case"end":return r.stop()}}),r,null,[[1,12]])})))()},removeSelectedArtists:function(t){this.selectedArtists=this.selectedArtists.filter((function(a){return a!=t}))},stopPlayer:function(){this.sourceArtists=[],this.$store.commit("explore/playerIsPlaying",!1)},updateSearchedArtist:function(t){this.searchedArtists=[t]},addSelectedArtists:function(t){this.$store.commit("explore/addSelectedArtist",t)}}})),c=r(43),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-space",{attrs:{direction:"horizontal"}},[r("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.search,expression:"search"}],style:{fontSize:"20px",color:"#1890ff"},attrs:{type:"search"},on:{click:function(e){return t.updateSearchedArtist(t.item)}}}),t._v(" "),r("a-divider",{attrs:{type:"vertical"}}),t._v(" "),r("a-icon",{style:t.hasArtistOnPlaylist?{fontSize:"20px",color:"red"}:{fontSize:"20px",color:"#1890ff"},attrs:{type:t.hasArtistOnPlaylist?"minus-circle":"plus-circle"},on:{click:function(e){t.hasArtistOnPlaylist?t.removeSelectedArtists(t.item):t.addSelectedArtists(t.item)}}}),t._v(" "),r("a-divider",{attrs:{type:"vertical"}}),t._v(" "),r("a-icon",{style:t.canBePlayed?{fontSize:"20px",color:"green"}:{fontSize:"20px",color:"grey"},attrs:{type:"play-circle"},on:{click:function(e){t.canBePlayed?t.stopPlayer():t.playTopTrackByArtist(t.item)}}})],1)}),[],!1,null,null,null);e.default=component.exports},921:function(t,e,r){"use strict";var n=r(918);r.n(n).a},922:function(t,e,r){(e=r(128)(!1)).push([t.i,".tag{margin:2px}",""]),t.exports=e},925:function(t,e,r){"use strict";r.r(e);r(149),r(253);var n=r(143),o=(r(633),r(632),r(90),r(28)),c=r(14).a.extend({data:function(){return{fetchingArtists:!1,searchTimer:0}},computed:{search:{get:function(){return this.$store.getters["explore/search"]},set:function(t){this.$store.commit("explore/search",t)}},artists:{get:function(){return this.$store.getters["explore/artists"]},set:function(t){this.$store.commit("explore/artists",t)}},searchedArtists:{get:function(){return this.$store.getters["explore/searchedArtists"]},set:function(t){this.$store.commit("explore/searchedArtists",t)}}},methods:{handleChange:function(t){Object.assign(this,{search:t})},getImageFromArtist:function(t){return t.images&&t.images.length>0?t.images[0].url:""},updateSearchedArtist:function(t){this.searchedArtists=[t]},fetchArtists:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=7;break}return c=function(t){return(t.match(new RegExp("([^?=&]+)(=([^&]*))?","g"))||[]).reduce((function(t,e,r,o){var c=e.split(":"),l=Object(n.a)(c,2),d=l[0],m=l[1];return t[d]=m,t}),{})},l=function(){var r=Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=c(t),l={},!o.artist){r.next=9;break}return r.next=6,e.$spotify.api.search(o.artist,["artist"],{limit:10});case 6:l=r.sent.body,r.next=18;break;case 9:if(!o.track){r.next=15;break}return r.next=12,e.$spotify.api.search(o.track,["track"],{limit:10});case 12:l=r.sent.body,r.next=18;break;case 15:return r.next=17,e.$spotify.api.search(t,["artist","track"],{limit:10});case 17:l=r.sent.body;case 18:e.artists=null===(n=null==l?void 0:l.artists)||void 0===n?void 0:n.items,r.next=24;break;case 21:r.prev=21,r.t0=r.catch(0),e.$notification.info({message:"Error on fetching artists",description:"Some error has occured, please try again or refresh the page..."});case 24:case"end":return r.stop()}}),r,null,[[0,21]])})));return function(){return r.apply(this,arguments)}}(),e.artists=[],e.fetchingArtists=!0,r.next=7,l();case 7:case"end":return r.stop()}}),r)})))()}}}),l=r(43),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-select",{staticStyle:{width:"40vw","min-width":"270px"},attrs:{"label-in-value":"","show-search":"",value:t.search,size:"large",placeholder:"Search anything related to music :)","filter-option":!1,"not-found-content":t.fetchingArtists?void 0:null},on:{search:t.fetchArtists,change:t.handleChange}},[t.fetchingArtists?r("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):t._e(),t._v(" "),t._l(t.artists,(function(e,n){return r("a-select-option",{key:n,on:{click:function(r){return t.updateSearchedArtist(e)}}},[r("a-space",{attrs:{direction:"horizontal"}},[r("a-avatar",{attrs:{slot:"avatar",size:30,src:t.getImageFromArtist(e)},slot:"avatar"}),t._v(" "),r("b",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.name))]),t._v(" "),t._l(e.genres,(function(e){return r("a-tag",{key:e,staticStyle:{"margin-left":"5px"},attrs:{color:"loser"===e?"volcano":e.length>5?"geekblue":"green"}},[t._v(t._s(e.toUpperCase()))])}))],2)],1)}))],2)}),[],!1,null,null,null);e.default=component.exports},926:function(t,e,r){"use strict";r.r(e);var n=r(14).a.extend({data:function(){return{}},computed:{searchedArtists:{get:function(){return this.$store.getters["explore/searchedArtists"]},set:function(t){this.$store.commit("explore/searchedArtists",t)}}},methods:{numberToLocaleFormat:function(t){return parseFloat(t.toFixed(0)).toLocaleString("pt-br",{minimumFractionDigits:0})},getImageFromArtist:function(t){return t.images&&t.images.length>0?t.images[0].url:""}}}),o=r(43),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.searchedArtists.length>0?r("a-list",{staticStyle:{width:"81vw"},attrs:{"item-layout":"horizontal","data-source":t.searchedArtists},scopedSlots:t._u([{key:"renderItem",fn:function(e){return r("a-list-item",{},[r("a-list-item-meta",[r("div",{attrs:{slot:"title"},slot:"title"},[r("b",[t._v("Selected:")]),t._v(" "),r("a",{attrs:{target:"_blank",href:e.external_urls.spotify}},[t._v(t._s(e.name))])]),t._v(" "),r("div",{attrs:{slot:"description"},slot:"description"},[t._l(e.genres,(function(e){return r("a-tag",{key:e,staticClass:"tag",attrs:{color:e.length<5?"volcano":e.length>5?"violet":"green"}},[t._v(t._s(e.toUpperCase()))])})),t._v(" "),r("a-tag",{staticClass:"tag",attrs:{color:"purple"}},[t._v("Followers: "+t._s(t.numberToLocaleFormat(e.followers.total)))]),t._v(" "),r("a-tag",{staticClass:"tag",attrs:{color:"blue"}},[t._v("Popularity: "+t._s(e.popularity))])],2),t._v(" "),r("a-avatar",{staticStyle:{"margin-left":"20px"},attrs:{slot:"avatar",size:64,src:t.getImageFromArtist(e)},slot:"avatar"})],1),t._v(" "),r("div",{staticStyle:{margin:"5px"},attrs:{slot:"actions"},slot:"actions"},[r("Actions",{attrs:{search:!1,item:e}})],1)],1)}}],null,!1,2004035800)}):t._e()}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Actions:r(920).default})},927:function(t,e,r){"use strict";r.r(e);var n=r(14).a.extend({data:function(){return{relatedArtistsColumns:[{dataIndex:"images",key:"images",title:"",align:"center",scopedSlots:{customRender:"images"}},{title:"Name",dataIndex:"name",align:"center",key:"name",scopedSlots:{customRender:"name"}},{title:"Genres",key:"genres",align:"center",dataIndex:"genres",scopedSlots:{customRender:"genres"}},{title:"Action",key:"action",align:"center",scopedSlots:{customRender:"action"}}],relatedArtistsColumnsMobile:[{dataIndex:"images",key:"images",title:"",align:"center",scopedSlots:{customRender:"images"}},{title:"Name",dataIndex:"name",align:"center",key:"name",scopedSlots:{customRender:"name"}},{title:"Action",key:"action",align:"center",scopedSlots:{customRender:"action"}}]}},computed:{relatedArtists:{get:function(){return this.$store.getters["explore/relatedArtists"]},set:function(t){this.$store.commit("explore/relatedArtists",t)}},modalVisible:{get:function(){return this.$store.getters["explore/modalVisible"]},set:function(t){this.$store.commit("explore/modalVisible",t)}}},methods:{getImageFromArtist:function(t){return t.images&&t.images.length>0?t.images[0].url:""}}}),o=r(43),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-table",{attrs:{columns:t.relatedArtistsColumns,pagination:{pageSize:5},"data-source":t.relatedArtists},scopedSlots:t._u([{key:"images",fn:function(e,n){return r("span",{},[r("a-avatar",{attrs:{slot:"avatar",src:t.getImageFromArtist(n)},slot:"avatar"})],1)}},{key:"name",fn:function(e,n){return r("div",{},[r("a",{attrs:{target:"_blank",href:n.external_urls.spotify}},[t._v(t._s(n.name))])])}},{key:"genres",fn:function(e){return r("span",{},t._l(e,(function(e){return r("a-tag",{key:e,attrs:{color:"loser"===e?"volcano":e.length>5?"geekblue":"green"}},[t._v(t._s(e.toUpperCase()))])})),1)}},{key:"action",fn:function(t,e){return r("div",{},[r("Actions",{attrs:{search:!0,item:e}})],1)}}])})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Actions:r(920).default})},928:function(t,e,r){"use strict";r.r(e);var n=r(14).a.extend({data:function(){return{}},computed:{selectedArtists:{get:function(){return this.$store.getters["explore/selectedArtists"]},set:function(t){this.$store.commit("explore/selectedArtists",t)}},searchedArtists:{get:function(){return this.$store.getters["explore/searchedArtists"]},set:function(t){this.$store.commit("explore/searchedArtists",t)}}},methods:{getImageFromArtist:function(t){return t.images&&t.images.length>0?t.images[0].url:""},numberToLocaleFormat:function(t){return parseFloat(t.toFixed(0)).toLocaleString("pt-br",{minimumFractionDigits:0})},updateSearchedArtist:function(t){this.searchedArtists=[t]},removeSelectedArtists:function(t){this.selectedArtists=this.selectedArtists.filter((function(a){return a!=t}))}}}),o=r(43),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-list",{staticStyle:{width:"81vw"},attrs:{grid:{gutter:16,xs:1,sm:2,md:2,lg:3,xl:3,xxl:3},"data-source":t.selectedArtists},scopedSlots:t._u([{key:"renderItem",fn:function(e){return r("a-list-item",{},[r("a-card",[r("div",{attrs:{slot:"title"},slot:"title"},[r("a-space",{attrs:{direction:"vertical"}},[r("a-avatar",{attrs:{slot:"avatar",size:60,src:t.getImageFromArtist(e)},slot:"avatar"}),t._v(" "),r("div",[t._v(t._s(e.name))])],1)],1),t._v(" "),r("a-space",{attrs:{direction:"vertical"}},[r("div",[r("a-tag",{staticClass:"tag",attrs:{color:"purple"}},[t._v("Followers:\n            "+t._s(t.numberToLocaleFormat(e.followers.total)))]),t._v(" "),r("a-tag",{staticClass:"tag",attrs:{color:"blue"}},[t._v("Popularity: "+t._s(e.popularity))])],1),t._v(" "),r("div",[r("a-button",{attrs:{size:"small",type:"primary"},on:{click:function(r){return t.updateSearchedArtist(e)}}},[t._v("Search")]),t._v(" "),r("a-button",{staticStyle:{margin:"5px"},attrs:{size:"small",type:"dashed",color:"red"},on:{click:function(r){return t.removeSelectedArtists(e)}}},[t._v("Remove")])],1)])],1)],1)}}])})}),[],!1,null,null,null);e.default=component.exports},929:function(t,e,r){"use strict";r.r(e);var n=r(914),o=(r(90),r(28)),c=r(14).a.extend({data:function(){return{playlistName:""}},computed:{selectedArtists:{get:function(){return this.$store.getters["explore/selectedArtists"]},set:function(t){this.$store.commit("explore/selectedArtists",t)}},creatingPlaylist:{get:function(){return this.$store.getters["explore/creatingPlaylist"]},set:function(t){this.$store.commit("explore/creatingPlaylist",t)}},modalVisible:{get:function(){return this.$store.getters["explore/modalVisible"]},set:function(t){this.$store.commit("explore/modalVisible",t)}}},methods:{clearView:function(){this.$store.commit("explore/creatingPlaylist",!1),this.$store.commit("explore/modalVisible",!1),this.$store.commit("explore/playlistName",null),this.$store.commit("explore/search",[]),this.$store.commit("explore/artists",[]),this.$store.commit("explore/searchedArtists",[]),this.$store.commit("explore/selectedArtists",[]),this.$store.commit("explore/relatedArtists",[])},createPlaylist:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,d,m,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.creatingPlaylist=!0,e.prev=1,e.next=4,t.$spotify.api.createPlaylist(t.playlistName,{public:!1});case 4:r=e.sent,o=r.body,e.prev=6,c=[],l=t.selectedArtists.map((function(a){return a.id})),d=0;case 10:if(!(d<l.length)){e.next=19;break}return m=l[d],e.next=14,t.$spotify.api.getArtistTopTracks(m,"GB");case 14:f=e.sent,c.push.apply(c,Object(n.a)(f.body.tracks));case 16:d++,e.next=10;break;case 19:return h=c.map((function(t){return t.uri})),e.next=22,t.$spotify.api.addTracksToPlaylist(o.id,h);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),t.$notification.info({message:"Error on saving musics",description:"Some error has occured, please try again..."});case 27:t.$notification.info({message:"Playlist created!!!",description:"Playlist added to your spotify with the name ".concat(t.playlistName)}),t.clearView(),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(1),t.$notification.info({message:"Error on creating playlist",description:"Some error has occured, please try again..."});case 34:case"end":return e.stop()}}),e,null,[[1,31],[6,24]])})))()}}}),l=r(43),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a-modal",{attrs:{title:"The Playlist Maker",visible:t.modalVisible,okText:"Create","confirm-loading":t.creatingPlaylist},on:{ok:t.createPlaylist,cancel:function(e){t.modalVisible=!1}}},[r("a-input",{attrs:{placeholder:"Name of your playlist"},model:{value:t.playlistName,callback:function(e){t.playlistName=e},expression:"playlistName"}}),t._v(" "),r("p",{staticStyle:{"text-align":"justify"}},[t._v("\n    This playlist will be added to\n    "),r("b",[t._v("your spotify account")]),t._v(" with the "),r("b",[t._v("10")]),t._v(" top tracks of\n    "),r("b",[t._v("each artist")]),t._v(" you selected!\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports},930:function(t,e,r){"use strict";r.r(e);r(90);var n=r(28),o=r(14).a.extend({computed:{plyr:{get:function(){return this.$refs.plyr.player}},playerIsPlaying:{get:function(){return this.$store.getters["explore/playerIsPlaying"]},set:function(t){this.$store.commit("explore/playerIsPlaying",t)}},playerSource:{get:function(){return this.$store.getters["explore/playerSource"]},set:function(t){this.$store.commit("explore/playerSource",t)}},searchedArtists:{get:function(){return this.$store.getters["explore/searchedArtists"]},set:function(t){this.$store.commit("explore/searchedArtists",t)}},selectedArtists:{get:function(){return this.$store.getters["explore/selectedArtists"]},set:function(t){this.$store.commit("explore/selectedArtists",t)}},relatedArtists:{get:function(){return this.$store.getters["explore/relatedArtists"]},set:function(t){this.$store.commit("explore/relatedArtists",t)}},modalVisible:{get:function(){return this.$store.getters["explore/modalVisible"]},set:function(t){this.$store.commit("explore/modalVisible",t)}}},watch:{playerIsPlaying:function(){this.playerIsPlaying||this.plyr.stop(),this.playerIsPlaying&&1==this.plyr.paused&&this.plyr.play()},playerSource:function(){this.plyr.source={type:"audio",sources:[{src:this.playerSource,type:"audio/mp3"}]}},searchedArtists:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchRelatedArtists();case 2:case"end":return e.stop()}}),e)})))()}},methods:{fetchRelatedArtists:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.searchedArtists.length>0)){e.next=11;break}return r=t.searchedArtists[0].id,e.prev=2,e.next=5,t.$spotify.api.getArtistRelatedArtists(r);case 5:n=e.sent,t.relatedArtists=n.body.artists,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})))()},updateSearchedArtist:function(t){this.searchedArtists=[t]}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.plyr.autoplay=!0,t.plyr.loop=!0,e.next=4,t.$spotify.api.getArtist("43ZHCT0cAZBISjO8DG9PnE");case 4:r=e.sent,t.updateSearchedArtist(r.body),t.fetchRelatedArtists();case 7:case"end":return e.stop()}}),e)})))()}}),c=(r(921),r(43)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a-row",{attrs:{type:"flex",justify:"center"}},[r("SearchArtist")],1),t._v(" "),r("a-row",{attrs:{type:"flex",justify:"center"}},[r("SearchedArtists")],1),t._v(" "),t.searchedArtists.length>0?r("a-row",{attrs:{type:"flex",justify:"center"}},[r("span",{staticStyle:{"text-align":"left"}},[r("a-icon",{attrs:{type:"arrow-down"}}),t._v(" Artists related to\n      "),r("a",{attrs:{target:"_blank",href:this.searchedArtists[0].external_urls.spotify}},[t._v(t._s(this.searchedArtists[0].name))]),t._v(" "),r("a-icon",{attrs:{type:"arrow-down"}})],1)]):t._e(),t._v(" "),r("a-row",{style:{padding:"30px"}},[r("RelatedArtists")],1),t._v(" "),t.searchedArtists.length>0?r("a-row",{style:{padding:"30px"},attrs:{type:"flex",justify:"center"}},[r("a-button",{directives:[{name:"show",rawName:"v-show",value:t.selectedArtists.length>0,expression:"selectedArtists.length > 0"}],attrs:{type:"primary",block:""},on:{click:function(e){t.modalVisible=!0}}},[t._v("Create Playlist")])],1):t._e(),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.selectedArtists.length>0,expression:"selectedArtists.length > 0"}]},[r("a-row",{attrs:{type:"flex",justify:"center"}},[r("span",{staticStyle:{"text-align":"left"}},[r("a-icon",{attrs:{type:"arrow-down"}}),t._v(" Artists selected to the playlist\n        "),r("a-icon",{attrs:{type:"arrow-down"}})],1)]),t._v(" "),r("a-row",{style:{padding:"30px"},attrs:{type:"flex",justify:"center"}},[r("a-timeline",[r("SelectedArtists")],1)],1)],1),t._v(" "),r("vue-plyr",{ref:"plyr",staticStyle:{display:"none",visibility:"hidden"}},[r("audio",[r("source",{attrs:{type:"audio/mp3"}})])]),t._v(" "),r("CreatePlaylist")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SearchArtist:r(925).default,SearchedArtists:r(926).default,RelatedArtists:r(927).default,SelectedArtists:r(928).default,CreatePlaylist:r(929).default})}}]);